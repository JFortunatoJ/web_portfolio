{"ast":null,"code":"import { trigger, style, animate, transition } from '@angular/animations';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/content/main/index/project-view.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"src/app/content/main/project-modal/project-access/project-access.component\";\nimport * as i4 from \"@angular/youtube-player\";\nconst _c0 = [\"youtubePlayer\"];\nconst _c1 = [\"modal\"];\n\nfunction ProjectModalComponent_ng_container_0_div_8_app_access_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-access\", 15);\n  }\n\n  if (rf & 2) {\n    const access_r5 = ctx.$implicit;\n    i0.ɵɵproperty(\"accessOptions\", access_r5);\n  }\n}\n\nfunction ProjectModalComponent_ng_container_0_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12)(1, \"fieldset\")(2, \"legend\");\n    i0.ɵɵtext(3, \"Acesse aqui\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 13);\n    i0.ɵɵtemplate(5, ProjectModalComponent_ng_container_0_div_8_app_access_5_Template, 1, 1, \"app-access\", 14);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.project == null ? null : ctx_r2.project.access);\n  }\n}\n\nfunction ProjectModalComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0, 1);\n    i0.ɵɵelementStart(1, \"div\", 2, 3)(3, \"div\", 4)(4, \"label\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(6, \"app-project-view-base\");\n    i0.ɵɵelementStart(7, \"div\", 5);\n    i0.ɵɵtemplate(8, ProjectModalComponent_ng_container_0_div_8_Template, 6, 1, \"div\", 6);\n    i0.ɵɵelementStart(9, \"div\", 7, 8)(11, \"section\");\n    i0.ɵɵelement(12, \"youtube-player\", 9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\", 10)(14, \"p\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(16, \"div\", 11);\n    i0.ɵɵlistener(\"click\", function ProjectModalComponent_ng_container_0_Template_div_click_16_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.setVisibility(false);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"@modal\", undefined);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.project == null ? null : ctx_r0.project.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r0.project == null ? null : ctx_r0.project.access.length) > 0);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"videoId\", ctx_r0.project == null ? null : ctx_r0.project.videoUrl);\n    i0.ɵɵproperty(\"width\", ctx_r0.videoWidth)(\"height\", ctx_r0.videoHeight);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.project == null ? null : ctx_r0.project.fullDescription);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"@overlay\", undefined);\n  }\n}\n\nexport let ProjectModalComponent = /*#__PURE__*/(() => {\n  class ProjectModalComponent {\n    constructor(projectViewService, _changeDetectorRef) {\n      this.projectViewService = projectViewService;\n      this._changeDetectorRef = _changeDetectorRef;\n      this.isVisible = false;\n      this.getProject = projectViewService.projectView$.subscribe(project => {\n        this.showProject(project);\n      });\n    }\n\n    ngOnInit() {\n      window.scroll(0, 0);\n    }\n\n    ngAfterViewInit() {\n      this._changeDetectorRef.detectChanges();\n\n      window.addEventListener('resize', this.onResize);\n      this.onResize();\n    }\n\n    ngOnDestroy() {\n      window.removeEventListener('resize', this.onResize);\n      this.getProject.unsubscribe();\n    }\n\n    showProject(project) {\n      this.project = project;\n      this.setVisibility(true);\n    }\n\n    setVisibility(status) {\n      this.isVisible = status;\n    }\n\n    onResize() {\n      // Automatically expand the video to fit the page up to 1200px x 720px\n      this.videoWidth = this.modal.nativeElement.clientWidth * 0.75;\n      this.videoHeight = this.videoWidth * 0.6;\n\n      this._changeDetectorRef.detectChanges();\n    }\n\n  }\n\n  ProjectModalComponent.ɵfac = function ProjectModalComponent_Factory(t) {\n    return new (t || ProjectModalComponent)(i0.ɵɵdirectiveInject(i1.ProjectViewService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n  };\n\n  ProjectModalComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProjectModalComponent,\n    selectors: [[\"app-project-modal\"]],\n    viewQuery: function ProjectModalComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n        i0.ɵɵviewQuery(_c1, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.youTubePlayer = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.modal = _t.first);\n      }\n    },\n    decls: 1,\n    vars: 1,\n    consts: [[\"class\", \"container\", 4, \"ngIf\"], [1, \"container\"], [1, \"modal\"], [\"modal\", \"\"], [1, \"project-name\"], [1, \"project-info\"], [\"class\", \"project-access\", 4, \"ngIf\"], [\"id\", \"youtubePlayer\", 1, \"youtubePlayer\"], [\"youtubePlayer\", \"\"], [\"suggestedQuality\", \"default\", 3, \"videoId\", \"width\", \"height\"], [1, \"description\"], [1, \"overlay\", 3, \"click\"], [1, \"project-access\"], [1, \"access-options\"], [3, \"accessOptions\", 4, \"ngFor\", \"ngForOf\"], [3, \"accessOptions\"]],\n    template: function ProjectModalComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ProjectModalComponent_ng_container_0_Template, 17, 8, \"ng-container\", 0);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.isVisible);\n      }\n    },\n    directives: [i2.NgIf, i2.NgForOf, i3.ProjectAccessComponent, i4.YouTubePlayer],\n    styles: [\".overlay[_ngcontent-%COMP%]{background:#000;height:100vh;width:100vw;left:0;opacity:.5;position:fixed;top:0;z-index:10}.modal[_ngcontent-%COMP%]{background:linear-gradient(to bottom left,#003459,#004066);border-radius:8px;box-shadow:0 2px 8px #333;position:fixed;padding:20px;top:50%;left:50%;transform:translate(-50%,-47%);z-index:11;max-height:90%;min-height:50%;width:50vw;overflow:auto}.project-name[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;display:block;width:99%;height:65px;line-height:65px;text-align:center;border-radius:10px;background:linear-gradient(to bottom left,#003459,#002a4d)}.project-name[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;font-size:40px;text-shadow:4px 2px 2px #222222}.project-info[_ngcontent-%COMP%]{width:99%;max-height:content-box;margin:10px auto;padding-bottom:2px;display:block;border-radius:10px}.project-access[_ngcontent-%COMP%]{border-radius:10px;padding:10px;margin:10px auto;width:max-content}fieldset[_ngcontent-%COMP%]{border:2px solid white;border-radius:10px;box-sizing:border-box;grid-area:1 / 1;padding:7px}.access-options[_ngcontent-%COMP%]{justify-content:space-around;display:grid;grid-auto-flow:column dense}legend[_ngcontent-%COMP%]{color:#fff;font-size:17px}.youtubePlayer[_ngcontent-%COMP%]{margin:auto;width:-moz-fit-content;width:fit-content;border-radius:10px}.description[_ngcontent-%COMP%]{color:#fff;font-size:20px;padding:15px}@media (max-width: 768px){  .project-name{height:50px;line-height:50px}.project-name[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:100%;height:100%;font-size:min(8vh,6.5vw)}.modal[_ngcontent-%COMP%]{width:80vw;max-height:80%}.description[_ngcontent-%COMP%]{font-size:17px}}\"],\n    data: {\n      animation: [// fundo escuro que fica atrás do modal\n      trigger('overlay', [transition(':enter', [// Inicia com o opacity zerado\n      style({\n        opacity: 0\n      }), // efetua a animação de 250ms para o\n      // o opacity de 0 até 0.5\n      animate('250ms', style({\n        opacity: .5\n      }))]), transition(':leave', [// Quando for esconder o overlay,\n      // anima do opacity atual, 0.5, até\n      // o valor 0\n      animate('500ms', style({\n        opacity: 0\n      }))])]), // animação na parte branca do modal\n      trigger('modal', [transition(':enter', [// inicia com o modal \"lá em cima\"\n      style({\n        top: -999\n      }), // e finaliza com o modal no meio da tela\n      animate('500ms', style({\n        top: '50%'\n      }))]), transition(':leave', [// para esconder o modal, basta\n      // \"jogar ele lá para cima da tela\"\n      animate('250ms', style({\n        top: -999\n      }))])])]\n    }\n  });\n  return ProjectModalComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}